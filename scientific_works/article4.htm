<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Сравнительный анализ методов интеллектуальной обработки данных для повышения качества прогнозных моделей</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body class="lynch-body">

<!-- Контент -->
<main class="container lynch-main">
  <!-- Кнопка назад -->
  <div class="article-button">
    <a href="index.htm" class="back-link">← Назад в библиотеку</a>
  </div>

  <!-- Статья -->
  <div class="individual-block">
        <div class="article-annotation">
      <p><strong>Источник: </strong><a href="hhttps://www.elibrary.ru/item.asp?id=54476696&ysclid=mj160vvbnl860921440">https://www.elibrary.ru/item.asp?id=54476696&ysclid=mj160vvbnl860921440</a></p>
    </div>
    <p style="text-align: left;">УДК 519.254 </p>
    <!-- Заголовок статьи -->
    <div class="article-title">
      <h1>
        Сравнительный анализ методов интеллектуальной обработки данных для повышения качества прогнозных моделей
      </h1>
      <p>
        <strong>О. В. Рычка</strong>
      </p>
    </div>

    <!-- Авторы и аффилиации -->
    <div class="article-author">
      <p>Донецкий национальный технический университет, г. Донецк</p>
      <p>e-mail: olga_rychka@mail.ru</p>
    </div>

    <!-- Аннотация -->
    <div class="article-annotation">
      <h3>Аннотация</h3>
      <p>
        <strong>В данной статье отмечена важность предварительной обработки в анализе данных. Описаны результаты сравнительного анализа эффективности различных методов поиска аномальных значений в статистических данных и предложенного автором метода. Представлена программная реализация предложенного метода. Реализованный в работе метод обнаружения и обработки выбросов позволяет определять более точные значения различных показателей и способствует построению достоверных прогнозов.</strong>
      </p>
      <p><strong>Ключевые слова:</strong> аномальные измерения, выброс, поиск аномалий, программный комплекс, сравнительный анализ, прогноз.</p>
    </div>

    <!-- Содержание статьи -->
    <div class="article-content">
      <!-- Основной текст статьи -->
      <h2>Введение</h2>
      <p>Важным этапом анализа данных является их предварительная обработка с целью идентификации значений, которые не соответствуют модели поведения анализируемого процесса. Такие значения называют аномалиями. Одним из значимых инструментов анализа данных является регрессионный анализ – статистический метод, позволяющий выявлять соотношения между зависимой переменной и одной или несколькими независимыми переменными [1].</p>
      
      <p>Основными двумя направлениями поиска аномалий является обнаружение выбросов и обнаружение новизны. В отличие от выбросов, новизна указывает на определённые изменения в системе и не является следствием ошибок в данных. В этом случае, задача заключается в своевременном обнаружении аномалий и анализе причин их появления, поскольку они могут сигнализировать о критически важных событиях. Целью такого поиска может являться обнаружение неисправности функционирования оборудования, сетевых хакерских атак, мошенничества с банковскими картами, выявление изменений в показателях здоровья человека, и т.д. Т.е. в данном случае исследователя интересуют сами аномалии, как индикаторы отклонения от нормального поведения системы и причины их возникновения. Поэтому, после обнаружения такие данные подвергаются дальнейшему анализу. </p>
      
      <p>Основные причины возникновения выбросов – неточные измерения, некорректный ввод данных, выход из строя оборудования и т.д. В этом случае, после обнаружения аномалий их следует подвергнуть дальнейшей обработке – исключить из выборки или откорректировать [2]. Это позволит построить адекватную модель, наиболее точно описывающую существующую зависимость.</p>
      
      <p>Чтобы репрезентативность выборки не была снижена, исключение аномалий из неё можно осуществлять, когда она содержит достаточное количество данных.</p>

      <p>Основными методами корректировки являются:</p>
      <ul>
        <li>ручная замена выброса на другое, более подходящее значение;</li>
        <li>изменение экстремальных значений на наиболее вероятное значение;</li>
        <li>сглаживание данных;</li>
        <li>интерполяция аномалий. Они заменяются значениями, которые получены на основе ближайших соседей.</li>
      </ul>

      <p>Целью исследования является проведение сравнительного анализа эффективности различных методов поиска аномальных значений в статистических данных, а также сравнение их с методом, предложенным автором. </p>

      <h2>Основные методы обнаружения выбросов</h2>
      <p>На сегодняшний день существуют следующие методы распознавания аномалий:</p>
      <ul>
        <li>статистический анализ;</li>
        <li>кластеризация;</li>
        <li>алгоритм ближайшего соседа;</li>
        <li>классификация;</li>
        <li>спектральные методы;</li>
        <li>гибридные методы.</li>
      </ul>
      
      <p>При использовании статистического анализа определяется разница между построенной моделью и реальными данными. Если эта разница превышает определённый порог, то в данных существуют аномалии. Выделяют следующие группы методов статистического анализа:</p>
      <ul>
        <li>параметрические методы (на основе Гауссовой модели, на основе регрессионной модели, их комбинация);</li>
        <li>непараметрические методы (методы на основе гистограмм или функций ядра).</li>
      </ul>
      
      <p>Кластеризация заключается в том, что все похожие экземпляры группируются в кластеры, если какой-либо экземпляр удален от центров кластеров более чем на определенную величину, то он считается аномальным. Также аномальными могут быть признаны разрозненные и незначительные кластеры.</p>
      
      <p>В алгоритмах ближайшего соседа осуществляется определение расстояния или меры сходства между двумя экземплярами данных.</p>
      
      <p>Метод классификации заключается в том, что наблюдения делятся на один или несколько классов, а те наблюдения, которые не принадлежат ни к одному из классов, признаются выбросами. Самыми распространенными подходами в этом методе являются:</p>
      <ul>
        <li>нейронные сети;</li>
        <li>байесовые сети;</li>
        <li>метод на основе правил;</li>
        <li>метод опорных векторов.</li>
      </ul>
      
      <p>При использовании спектрального метода на основе частотных характеристик данных строится модель, которая должна учесть большую часть изменчивости в данных [3-7].</p>

      <table border="1">
        <caption>Таблица 1 – Примеры применения методов поиска выбросов в различных областях</caption>
        <tr>
          <th>Область</th>
          <th>Пример задачи</th>
          <th>Метод</th>
        </tr>
        <tr>
          <td>Медицина</td>
          <td>вспышки заболеваний, отклонения в состоянии пациентов, ошибки записи</td>
          <td>параметрические статистические методы, нейронные сети, байесовские нейронные сети, методы на основе правил, алгоритм ближайших соседей</td>
        </tr>
        <tr>
          <td>Астрономия</td>
          <td>отделение квазаров (активное ядро галактики) от звёзд</td>
          <td>алгоритм ближайшего соседа</td>
        </tr>
        <tr>
          <td>Компьютерные сети</td>
          <td>обнаружение сетевых вторжений, взломов</td>
          <td>все виды статистических методов, все виды классификации, кластеризация, ближайшего соседа</td>
        </tr>
        <tr>
          <td>Обнаружение мошенничества</td>
          <td>мошенничество с кредитными картами, мобильными телефонами, страховые агентства</td>
          <td>статистические методы с использованием гистограмм, параметрические статистические методы, нейронные сети, методы на основе правил, кластеризация</td>
        </tr>
        <tr>
          <td>Промышленность</td>
          <td>поломки оборудования</td>
          <td>параметрические и непараметрические статистические методы, нейронные сети, спектральный анализ</td>
        </tr>
        <tr>
          <td>Торговля</td>
          <td>выявление аномального спроса</td>
          <td>параметрические статистические методы</td>
        </tr>
        <tr>
          <td>Обработка изображений</td>
          <td>спутниковые изображения, распознавание цифр, медицинские снимки</td>
          <td>параметрические статистические методы, нейронные и байесовские сети, кластеризация, алгоритм ближайшего соседа</td>
        </tr>
      </table>

      <p>Как видно из таблицы, параметрические статистические методы используются для поиска аномальных значений в выборке практически во всех предметных областях. Такое положение делает актуальной задачу совершенствования параметрических статистических методов поиска и обработки аномалий.</p>

      <h2>Сравнительный анализ статистических методов</h2>
      <p>Для сравнительного анализа эффективности статистических методов поиска аномалий в регрессии и предложенного автором метода были выбраны следующие методы:</p>
      <ul>
        <li>Эктона;</li>
        <li>Титьена-Мура-Бэкмана;</li>
        <li>Прескотта-Лунда;</li>
        <li>расстояние Кука;</li>
        <li>расстояние Махаланобиса.</li>
      </ul>
      
      <p>Исходными данными для анализа является зависимость оборота розничной торговли непродовольственными товарами, млн. руб. от среднедушевого денежного дохода населения в Российской Федерации, руб./месяц. Для проверки работы методов, добавим в исходные данные четыре аномальных значения. В этом случае, значение коэффициента детерминации составляет 0,55. </p>
      
      <p>При поиске аномальных значений методом Эктона было выявлено 3 подозрительных значения, как наибольшее отклонение исходных измерений от расчетных данных (еi).  После этого, по формуле (1) было рассчитано значение V, которое сравнивалось с критическим. </p>
      
    <div class="math-formula">
        <span class="math-variable">V</span> = 
        <span class="math-fraction">
            <span class="math-numerator">
                <span class="math-absolute">
                    <span class="math-abs-bar"></span>
                    <span class="math-content">e<sub>k</sub> - ē</span>
                    <span class="math-abs-bar"></span>
                </span>
            </span>
            <span class="math-denominator">S<sub>k</sub></span>
        </span>
        <span class="math-equation-number">(1)</span>
    </div>

<p>где   eₖ – остаток предполагаемого выброса;</p>
<p>ē– среднее по всем остаткам.</p>
<p>Sₖ – среднеквадратическое отклонение экспериментальных точек линии регрессии с учетом отбрасывания подозрительного наблюдения.</p>
<p>Остаток eᵢ с вероятностью α считается выбросом, если расчетное значение V больше критического Vα [8]. У двух выявленных подозрительных значений Y=46359 при Х=29946 и Y=45644,07 при Х=32285 расчетное значение V оказалось больше критического, поэтому эти значения признаются выбросами.</p>
      <p>Далее для поиска аномального значения использовался метод Титьена-Мура-Бэкмана  [9]. Он заключается в том, что по формуле (2) рассчитывается значение Rm. После этого, полученное значение Rm сравнивается с критическим значением Rα. Если полученное значение оказывается больше, то значение Yi является выбросом.</p>

<div class="math-formula">
    <span class="math-variable">R<sub>m</sub></span> = 
    max 
    <span class="math-absolute">
        <span class="math-abs-bar"></span>
        <span class="math-fraction">
            <span class="math-numerator">e<sub>i</sub></span>
            <span class="math-denominator">S<sub>i</sub></span>
        </span>
        <span class="math-abs-bar"></span>
    </span>
    , <span class="math-equation-number">(2)</span>
</div>
<p>где Sᵢ – среднеквадратические отклонения 
остатков.</p>
      <p>Используя формулу (2), было выявлено 
всего одно подозрительное значение. Величина, 
полученная по критерию, составила 2,71, однако 
она оказалась меньше критического значения 
равного 2,74 для уровня значимости 0,1, 
поэтому подозрительное значение выбросом 
согласно данного метода не является. </p>
      <p>Третий метод – метод Прескотта-Лунда.  
С помощью данного метода по формуле (3) 
было получено значение R*=2,69 для 
подозрительного элемента, что является меньше 
критического равного 2,72. Следовательно, 
данное значение не признаётся выбросом.</p>

<div class="math-formula">
    <span class="math-variable">R<sup>*</sup></span> = 
    √<span class="math-root">n</span> 
    max 
    <span class="math-fraction">
        <span class="math-numerator">
            <span class="math-absolute">
                <span class="math-abs-bar"></span>
                e<sub>i</sub>
                <span class="math-abs-bar"></span>
            </span>
        </span>
        <span class="math-denominator">
            √<span class="math-root">
                <span class="math-sum">∑</span>
                <span class="math-limits">
                    <span class="math-limit-bottom">i=1</span>
                    <span class="math-limit-top">n</span>
                </span>
                e<sub>i</sub><sup>2</sup>
            </span>
        </span>
    </span>
    <span class="math-equation-number">(3)</span>
</div>
      
      <p>Расстояние Кука представляет собой 
меру влияния определённых наблюдений на 
построенную регрессию. Для нахождения 
данной статистики чаще всего используется 
формула 4: </p>

<div class="math-formula">
    <span class="math-variable">D<sub>i</sub></span> = 
    <span class="math-fraction">
        <span class="math-numerator">
            (ŷ<sub>j</sub> - ŷ<sub>j(i)</sub>)
        </span>
        <span class="math-denominator">
            pS<sup>2</sup><sub>e</sub>h<sub>ii</sub>
        </span>
    </span>
    , <span class="math-equation-number">(4)</span>
</div>
<p>где ŷ<sub>j</sub> – ожидаемое значение регрессии (для j
го наблюдения), построенной по всей выборке; </p>
<p>  ŷ<sub>j(i)</sub> – ожидаемое значение регрессии, 
построенной по выборке без i-го наблюдения; </p>
<p>   р – число параметров модели (для 
линейной оно равно 2); </p>
<p> S<sup>2</sup><sub>e</sub> – среднеквадратическая ошибка модели, 
полученная при использовании всех данных;</p>
<p>h<sub>ii</sub> – показатель влияния i-го наблюдения 
на коэффициенты модели. Представляет 
диагональные элементы матрицы проекции на 
пространство регрессоров Н=Х(Х<sup>T</sup>Х)<sup>-1</sup>Х<sup>T</sup>. Для парной линейной регрессии значение h<sub>ii</sub> 
находится по формуле (5): </p>

<div class="math-formula">
    <span class="math-variable">h<sub>ii</sub></span> = 
    <span class="math-fraction">
        <span class="math-numerator">1</span>
        <span class="math-denominator">n</span>
    </span>
    + 
    <span class="math-fraction">
        <span class="math-numerator">
            (x<sub>i</sub> - x̄)<sup>2</sup>
        </span>
        <span class="math-denominator">
            <span class="math-sum">∑</span>
            <span class="math-limits">
                <span class="math-limit-bottom">i=1</span>
                <span class="math-limit-top">n</span>
            </span>
            (x<sub>i</sub> - x̄)<sup>2</sup>
        </span>
    </span>
    <span class="math-equation-number">(5)</span>
</div>
      
      <p>Существуют различные подходы к 
определению выбросов с помощью расстояния 
Кука. Наиболее часто используется правило, что 
значение с расстоянием Кука D<sub>i</sub> более 4/n (где n –  количество наблюдений в выборке) считается 
выбросом.</p>
<p>Метод Кука является наиболее 
трудоёмким для ручного просчёта, поэтому 
поиск аномальных данных осуществлялся с 
использованием статистического пакета R.  
Было выявлено, что наибольшее влияние на 
модель оказывают наблюдения под номерами: 
12, 19, 27. (рис. 1). </p>

<div class="article-picture">
    <img src="images/ar4_1_batcheditor_fotor.jpg" style="max-width:40%;">
    <p>Рисунок 1 -  Расстояние Кука</p>
</div>
      <p>Эти наблюдения соответствуют следующим данным: Y=46262,16 при Х=58848, Y=46359 при Х=29946 и Y=45644,068 при Х=32285.</p>
      <p>Расстояние Махаланобиса определяет расстояние между двумя точками. Показывает, насколько значения наблюдений для независимых переменных отклоняются от среднего по всем наблюдениям. Расстояние Махаланобиса было рассчитано с помощью статистического пакета SPSS. В результате было найдено одно аномальное значение Y=46262,16 при Х=58848.</p>
      <p>Метод поиска аномалий, предложенный автором в [10, 11], основан на построении прямоугольной области надёжности, которая зависит от исходного уравнения регрессии. Те статистические данные, которые не попали в построенную область, признаются аномальными.</p>
      <p>При применении данного метода были найдены все 4 аномальные измерения: Y=46262,16 при Х=58848, Y=46359 при Х=29946, Y=27597,16 при X=15800, Y=45644,068 при Х=32285.</p>
      <p>Результаты сравнения рассмотренных 
выше методов представлены в таблице 2.</p>

      <table border="1">
        <caption>Таблица 2 – Сравнительные данные методов поиска аномалий</caption>
        <tr>
          <th>Метод</th>
          <th>Аномалии</th>
        </tr>
        <tr>
          <td>Эктона</td>
          <td>X=29946 Y=46359<br>X=32285 Y=45644,07</td>
        </tr>
        <tr>
          <td>Титьена-Мура-Бэкмана</td>
          <td>не выявлено</td>
        </tr>
        <tr>
          <td>Прескотта-Лунда</td>
          <td>не выявлено</td>
        </tr>
        <tr>
          <td>Кука</td>
          <td>X=58848 Y=46262,16<br>X=29946 Y=46359<br>X=32285 Y=45644,068</td>
        </tr>
        <tr>
          <td>Махаланойиса</td>
          <td>X=58848 Y=46262,16</td>
        </tr>
        <tr>
          <td>Метод, предложенный в работе</td>
          <td>X=58848 Y=46262,16<br>X=29946 Y=46359<br>X=15800 Y=27597,16<br>X=32285 Y=45644,068</td>
        </tr>
      </table>

      <p>Как видно из таблицы, методом поиска аномалий, предложенным автором было выявлено большее число аномалий, чем другими методами. Методом Эктона было обнаружено два аномальных наблюдения, а методами Титьена-Мура-Бэкмана и Прескотта-Лунда не было выявлено ни одного. Ближе всего по результативности к предложенному методу оказался метод Кука, однако данным методом были выявлены не все аномалии, а только 3, помимо этого количество элементарных операций возрастает при увеличении количества проверяемых подозрительных значений, а также отсутствует однозначный критерий того, какие из подозрительных значений признавать аномальными. Таким образом, можно сделать вывод, что предложенный автором метод поиска аномалий является наиболее эффективным и быстродейственным.</p>

      <h2>Программная реализация предложенного метода</h2>
      <p>Для удобства использования, предложенного метода был разработан программный комплекс, которой состоит из взаимосвязанных приложений, написанных на языке С# и Visual Basic for Application для Microsoft Excel.</p>
      
      <p>Пользователь может вводить данные 
двумя способами – вручную, непосредственно в 
самом приложении или загружать данные из 
Excel файла. Также, полученные результаты 
можно передать и сохранить в Excel. Вид 
стартового окна приложения представлен на 
рисунке 2. После ввода данных осуществляется 
их проверка на корректность и последующая 
сортировка.</p>

<div class="article-picture">
    <img src="images/ar4_2_batcheditor_fotor.jpg" style="max-width:40%;">
    <p>Рисунок 2 -  Вид стартового окна программы</p>
</div>
      
      <p> Далее 
пользователь 
может 
воспользоваться либо методом с последующим 
отбрасыванием аномальных данных, либо 
методом с корректировкой аномальных данных 
и их модификациями.</p>
      
      <p>В зависимости от выбранного метода в 
программе 
рассчитываются 
эффективности 
для 
каждого 
показатели 
значения 
вероятности: коэффициенты детерминации R<sup>2</sup>, 
величины доверительных интервалов, значения 
смещений, количество данных (исходное и 
после отбрасывания), точность, коэффициенты 
нового линейного регрессионного уравнения 
(рис. 3).  Также, на соответствующей вкладке 
пользователь может посмотреть все найденные 
аномальные 
значения 
вероятностей (рис. 4). </p>
      
<div class="article-picture">
    <img src="images/ar4_3_batcheditor_fotor.jpg" style="max-width:40%;">
    <p>Рисунок 3 -  Результаты работы программы </p>
</div>

<div class="article-picture">
    <img src="images/ar4_4_batcheditor_fotor.webp" style="max-width:40%;">
    <p>Рисунок 4 -  Аномальные данные </p>
</div>

      <p>Разработанный программный комплекс позволяет быстро и удобно выявить аномальные данные в исходных статистических данных, устранить или откорректировать их, и получить результаты, на основе которых можно осуществлять дальнейший анализ и прогнозирование.</p>

      <h2>Выводы</h2>
      <p>В статье рассмотрены статистические методы выявления аномальных данных, выполнен их сравнительный анализ. Помимо широкоизвестных методов в анализе использовался и разработанный автором метод. Анализ проводился на реальных данных. Наилучший результат показал метод, который был предложен в работе. С его использованием были выявлены все выбросы, содержащиеся в данных.</p>
      
      <p>Для эффективного использования метода поиска аномалий, автором был разработан комплекс программ. Помимо поиска выбросов, в нём осуществляется последующая обработка выявленных аномальных измерений. Это позволяет получить адекватную модель, с использованием которой, можно строить более точные прогнозы.</p>

      <h2>Литература</h2>
      <ol>
        <li>Караулова, А. В. Применение регрессионного анализа при решении реальных задач технического характера / А. В. Караулова, И. П. Базилевский // «Молодая наука Сибири»: электрон. науч. журн. – 2020. – №3(9). - Режим доступа: http://mrv.irguys.ru/toma/39-2020.</li>
        <li>Копырин, А. С. Оценка влияния аномалий на результаты анализа массивов экономических данных / А. С. Копырин, Е. В. Видищева // Modern Economy Success, 2021. - № 2. - С. 235–240.</li>
        <li>Chandola, V., Banerjee, A., and Kumar, V. Anomaly detection: A survey. ACM Comput. Surv. – 41, 3, Article 15 (July 2009) – 58 pages.</li>
        <li>Wilson J. Holton, Keating Barry P., Beal Mary Regression Analysis: Understanding and Building Business and Economic Models Using Excel, 2nd Edition. — New York, USA, Business Expert Press, LLC, 2016. — 205 p.</li>
        <li>Киргиченко, А. В. (и др.) Математические модели и методы анализа и прогнозирования: предварительная обработка результатов эксперимента, проверка статистических гипотез, корреляционный анализ, парный регрессионный анализ: учебное пособие. - Саратов: КУБиК, 2019. - 259 с.</li>
        <li>Кузоваев, В. И., Орлов А. О. Метод выявления аномалий в исходных данных при построении прогнозной модели решающего дерева в системах поддержки принятия решений // Наука и образование. МГТУ им. Н.Э. Баумана. Электрон. журн. 2012. № 9. URL: https://cyberleninka.ru/article/n/metod-vyyavleniya-anomaly-v-ishodnyh-dannyh-pri-postroenii-prognoznoy-modeli-reshavuschego-dereva-v-sistemah-podderzhki-prinyatiya/viewer.</li>
        <li>Девянин, И. С. Предварительная обработка данных для машинного обучения // Фундаментальные и прикладные исследования в физике, химии, математике и информатике, 2021. - С. 117–121.</li>
        <li>Попукайло, В. С. Обнаружение аномальных измерений при обработке данных малого объема // Технология и конструирование в электронной аппаратуре, 2016. – № 4-5 – С. 42-46.</li>
        <li>Кобзарь, А. И. Прикладная математическая статистика. Для инженеров и научных работников [Текст] / А. И. Кобзарь. – М.: ФИЗМАТЛИТ, 2012. – 816 с.</li>
        <li>Рычка, О.В. Разработка алгоритма реализации методов повышения качества регрессионных моделей, используемых при проектировании технических систем. // Научный журнал «Информатика и кибернетика». – Донецк: ДонНТУ, 2020. - № 3 (21). - С.42-48.</li>
        <li>Рычка, О.В. Анализ эффективности усовершенствованных методов поиска и обработки аномалий для нелинейных моделей с внутренней линейностью // Международный рецензируемый научно-теоретический журнал «Проблемы искусственного интеллекта». – Донецк, 2020. – Вып. №3(18) – С. 101-110.</li>
      </ol>
      
      <!-- Английская версия аннотации -->
      <div class="article-annotation">
        <p><strong>Rychka O.V. Comparative analysis of intelligent data processing methods to improve the quality of predictive models. This article highlights the importance of preprocessing in data analysis. It describes the results of a comparative analysis of the effectiveness of various methods of searching for anomalous values in statistical data and the method proposed by the author. A software implementation of the proposed method is presented. The analysis was performed on real data. The method of detection and processing of outliers implemented in the work makes it possible to determine more accurate values of various indicators and contributes to the construction of reliable forecasts.</strong></p>
        <p><strong>Key words:</strong> anomalous measurements, outlier, search for anomalies, software package, comparative analysis, forecast.</p>
      </div>
    </div>
  </div>
</main>

<!-- Подвал -->
<footer class="footer lynch-footer">
  <div class="container">
    <nav class="bottom-menu">
      <a href="../diss/index.html">Реферат</a>
      <a href="../science.html">На научные труды</a>
      <a href="../ind/index.html">Индивидуальный раздел</a>
    </nav>
  </div>
</footer>

<!-- Кнопка наверх -->
<button id="toTop">↑</button>

<script>
  const toTop = document.getElementById("toTop");
  window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
      toTop.classList.add("show");
    } else {
      toTop.classList.remove("show");
    }
  });
  toTop.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
</body>
</html>